package LeetCode;

// https://leetcode-cn.com/contest/weekly-contest-287/problems/find-players-with-zero-or-one-losses/

import java.util.*;

public class Problem_2225_FindLossPlayers {
    public List<List<Integer>> findWinners(int[][] matches) {
        Set<Integer> winList = new HashSet<>();
        Map<Integer, Integer> loseList = new HashMap<>();
        for(int[] m : matches) {
            int win = m[0];
            int lose = m[1];
            if(!loseList.containsKey(win)) {
                winList.add(win); // 需要提纯
            }
            loseList.put(lose, loseList.getOrDefault(lose, 0) + 1);
        }
        List<List<Integer>> ans = new ArrayList<>();
        ans.add(new ArrayList<>());
        ans.add(new ArrayList<>());
        // 提纯winList
        for(int win : winList) {
            if(!loseList.containsKey(win)) {
                ans.get(0).add(win);
            }
        }
        // 提纯loseList
        for(int lose : loseList.keySet()) {
            if(loseList.get(lose) == 1) {
                ans.get(1).add(lose);
            }
        }
        Collections.sort(ans.get(0));
        Collections.sort(ans.get(1));
        return ans;
    }

    public static void main(String[] args) {
        // int[][] matches = {{1,3},{2,3},{3,6},{5,6},{5,7},{4,5},{4,8},{4,9},{10,4},{10,9}};
        int[][] matches = {{1,6},{1,7},{1,8},{1,16},{1,26},{1,37},{1,41},{1,42},{1,49},{1,61},{1,63},{1,74},{1,75},{1,77},{1,90},{1,95},{2,3},{2,8},{2,24},{2,30},{2,32},{2,40},{2,44},{2,45},{2,46},{2,47},{2,57},{2,67},{2,75},{2,77},{2,82},{2,84},{2,91},{2,98},{3,7},{3,12},{3,13},{3,17},{3,26},{3,34},{3,35},{3,42},{3,50},{3,53},{3,59},{3,63},{3,69},{3,81},{3,82},{3,91},{3,94},{3,95},{4,18},{4,38},{4,42},{4,44},{4,50},{4,51},{4,57},{4,58},{4,59},{4,62},{4,77},{4,82},{4,92},{5,6},{5,9},{5,16},{5,18},{5,29},{5,54},{5,56},{5,70},{5,75},{5,77},{5,80},{5,82},{5,98},{6,7},{6,8},{6,9},{6,27},{6,34},{6,38},{6,42},{6,43},{6,77},{6,81},{6,85},{6,95},{7,8},{7,9},{7,15},{7,19},{7,23},{7,28},{7,35},{7,51},{7,65},{7,69},{7,78},{7,94},{7,95},{7,97},{7,98},{8,29},{8,40},{8,46},{8,51},{8,53},{8,63},{8,71},{8,77},{8,86},{8,90},{9,21},{9,34},{9,39},{9,44},{9,50},{9,65},{9,76},{9,78},{9,83},{10,17},{10,19},{10,22},{10,25},{10,27},{10,33},{10,42},{10,45},{10,51},{10,53},{10,66},{10,72},{10,75},{10,79},{10,84},{10,85},{10,88},{10,92},{11,12},{11,14},{11,18},{11,22},{11,24},{11,26},{11,28},{11,35},{11,41},{11,44},{11,45},{11,58},{11,64},{11,74},{11,83},{11,85},{11,86},{12,16},{12,18},{12,26},{12,34},{12,36},{12,59},{12,60},{12,62},{12,65},{12,84},{12,86},{12,90},{12,95},{12,97},{13,14},{13,24},{13,31},{13,32},{13,67},{13,78},{13,80},{13,81},{13,82},{13,89},{13,95},{13,99},{14,17},{14,18},{14,26},{14,40},{14,43},{14,52},{14,54},{14,69},{14,71},{14,79},{14,91},{14,94},{14,98},{15,17},{15,18},{15,19},{15,24},{15,26},{15,30},{15,37},{15,45},{15,48},{15,53},{15,58},{15,60},{15,63},{15,67},{15,74},{15,79},{16,17},{16,23},{16,37},{16,45},{16,47},{16,51},{16,57},{16,65},{16,68},{16,69},{16,76},{17,28},{17,34},{17,38},{17,49},{17,50},{17,56},{17,60},{17,64},{17,65},{17,66},{17,72},{17,79},{18,19},{18,27},{18,28},{18,34},{18,37},{18,46},{18,47},{18,56},{18,57},{18,70},{18,83},{18,92},{18,93},{18,96},{18,98},{19,22},{19,26},{19,30},{19,32},{19,33},{19,43},{19,44},{19,47},{19,52},{19,66},{19,69},{19,75},{19,77},{19,97},{20,27},{20,29},{20,30},{20,31},{20,33},{20,35},{20,40},{20,44},{20,54},{20,60},{20,68},{20,71},{20,75},{20,78},{20,80},{20,81},{20,82},{20,84},{21,29},{21,38},{21,41},{21,50},{21,51},{21,56},{21,57},{21,71},{21,78},{21,92},{21,93},{21,98},{22,27},{22,35},{22,54},{22,60},{22,68},{22,71},{22,85},{22,86},{22,90},{22,92},{23,27},{23,30},{23,51},{23,52},{23,59},{23,60},{23,62},{23,68},{23,73},{23,84},{23,95},{23,98},{24,27},{24,35},{24,36},{24,42},{24,48},{24,60},{24,61},{24,73},{24,75},{24,77},{24,82},{24,88},{24,90},{25,27},{25,28},{25,34},{25,38},{25,41},{25,62},{25,67},{25,74},{25,75},{25,90},{25,92},{25,93},{25,96},{26,28},{26,31},{26,40},{26,48},{26,58},{26,73},{26,77},{26,78},{26,85},{26,87},{26,97},{26,99},{27,34},{27,41},{27,61},{27,82},{27,83},{27,92},{27,95},{27,96},{27,98},{28,37},{28,54},{28,62},{28,64},{28,66},{28,70},{28,74},{28,83},{28,95},{28,97},{29,38},{29,39},{29,42},{29,43},{29,48},{29,55},{29,67},{29,71},{29,75},{29,98},{30,38},{30,40},{30,51},{30,53},{30,54},{30,58},{30,64},{30,71},{30,73},{30,85},{30,91},{30,92},{30,94},{31,32},{31,48},{31,83},{31,86},{31,93},{32,34},{32,38},{32,55},{32,60},{32,62},{32,66},{32,82},{32,88},{32,99},{33,38},{33,49},{33,56},{33,71},{33,74},{33,75},{33,78},{33,83},{33,86},{33,90},{33,93},{34,44},{34,56},{34,64},{34,72},{34,76},{34,77},{34,84},{34,87},{34,89},{34,97},{35,39},{35,44},{35,56},{35,57},{35,68},{35,69},{35,70},{35,72},{35,74},{36,39},{36,53},{36,60},{36,65},{36,75},{36,91},{36,96},{37,42},{37,44},{37,48},{37,51},{37,53},{37,63},{37,78},{37,85},{37,87},{37,96},{38,43},{38,58},{38,62},{38,64},{38,68},{38,69},{38,76},{38,89},{39,44},{39,52},{39,55},{39,58},{39,63},{39,68},{39,75},{39,78},{39,79},{39,90},{39,92},{40,42},{40,52},{40,54},{40,63},{40,67},{40,72},{40,91},{40,97},{41,54},{41,59},{41,69},{41,74},{41,75},{41,78},{41,84},{41,85},{41,98},{42,47},{42,48},{42,55},{42,60},{42,62},{42,65},{42,67},{42,79},{42,80},{42,81},{42,82},{42,90},{42,95},{42,97},{43,49},{43,50},{43,55},{43,62},{43,71},{43,72},{43,73},{43,77},{43,80},{43,81},{43,87},{43,91},{44,53},{44,69},{44,73},{44,75},{44,78},{45,46},{45,50},{45,51},{45,52},{45,89},{46,65},{46,77},{46,78},{46,80},{46,82},{46,85},{47,48},{47,58},{47,77},{47,79},{47,92},{47,97},{48,50},{48,52},{48,54},{48,55},{48,56},{48,57},{48,59},{48,62},{48,70},{48,76},{48,85},{48,89},{49,53},{49,56},{49,60},{49,62},{49,65},{49,67},{49,73},{49,82},{49,83},{49,86},{50,64},{50,65},{50,71},{50,80},{50,81},{50,94},{50,95},{50,96},{50,97},{51,53},{51,76},{51,88},{51,91},{51,94},{51,95},{52,61},{52,65},{52,69},{52,76},{52,79},{52,89},{52,96},{52,97},{53,60},{53,62},{54,74},{54,88},{54,95},{55,66},{55,80},{55,81},{55,93},{56,58},{56,61},{56,63},{56,65},{56,77},{56,80},{56,92},{57,60},{57,66},{57,67},{57,70},{57,79},{57,90},{57,93},{57,97},{58,63},{58,73},{58,78},{58,79},{58,80},{58,83},{58,89},{58,93},{58,94},{58,98},{59,63},{59,64},{59,69},{59,71},{59,76},{59,77},{59,80},{59,82},{59,83},{59,94},{60,74},{60,76},{60,77},{60,78},{60,86},{60,87},{61,64},{61,72},{61,75},{61,80},{61,83},{61,86},{61,90},{62,63},{62,69},{62,70},{62,72},{62,78},{62,82},{62,93},{62,97},{62,99},{63,65},{63,74},{63,77},{63,86},{63,87},{63,96},{63,99},{64,67},{64,75},{64,77},{64,82},{64,91},{64,92},{65,68},{65,69},{65,76},{65,79},{65,89},{65,90},{65,94},{65,97},{66,74},{66,77},{66,78},{66,81},{66,99},{67,68},{67,71},{67,84},{67,85},{68,71},{68,74},{68,77},{68,84},{68,88},{69,83},{69,95},{70,77},{70,83},{70,86},{70,88},{70,98},{71,81},{72,89},{72,92},{72,99},{73,76},{73,80},{73,81},{73,83},{73,84},{73,89},{74,79},{74,86},{74,88},{75,88},{75,91},{75,97},{76,88},{76,95},{77,78},{77,87},{77,90},{78,88},{79,96},{79,99},{80,87},{80,93},{81,84},{82,91},{82,98},{83,86},{83,95},{84,94},{84,95},{84,96},{85,88},{86,96},{87,89},{87,98},{89,92},{90,94},{91,94},{91,95},{91,99},{92,99},{95,99}};
        // int[][] matches = {{2,3},{1,3},{5,4},{6,4}};
        // int[][] matches = {{1,5},{2,5},{2,8},{2,9},{3,8},{4,7},{4,9},{5,7},{6,8}}; // [[1,2,3,4,6],[]]
        var ans = new Problem_2225_FindLossPlayers().findWinners(matches);
    }
}
